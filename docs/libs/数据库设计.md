

# 数据库设计

团队表

```sql
/*
 Navicat Premium Data Transfer

 Source Server         : 02-postgresql-docker
 Source Server Type    : PostgreSQL
 Source Server Version : 120002
 Source Host           : 121.36.48.127:5432
 Source Catalog        : repository
 Source Schema         : public

 Target Server Type    : PostgreSQL
 Target Server Version : 120002
 File Encoding         : 65001

 Date: 26/05/2020 15:33:47
*/


-- ----------------------------
-- Table structure for group
-- ----------------------------
DROP TABLE IF EXISTS "public"."group";
CREATE TABLE "public"."group" (
  "id" int8 NOT NULL,
  "name" varchar(255) COLLATE "pg_catalog"."default" NOT NULL,
  "created_by" int8 NOT NULL,
  "created_date" timestamp(6) NOT NULL
)
;
ALTER TABLE "public"."group" OWNER TO "postgres";
COMMENT ON COLUMN "public"."group"."id" IS 'ID';
COMMENT ON COLUMN "public"."group"."name" IS 'å¢éåç§°';
COMMENT ON COLUMN "public"."group"."created_by" IS 'åå»ºäºº';
COMMENT ON COLUMN "public"."group"."created_date" IS 'åå»ºæ¶é´';

-- ----------------------------
-- Table structure for knowledge
-- ----------------------------
DROP TABLE IF EXISTS "public"."knowledge";
CREATE TABLE "public"."knowledge" (
  "id" int4 NOT NULL,
  "content" text COLLATE "pg_catalog"."default" NOT NULL,
  "repository_id" int8 NOT NULL,
  "created_by" int8 NOT NULL,
  "created_date" timestamp(6) NOT NULL,
  "group_id" int8 NOT NULL,
  "deleted" bool NOT NULL
)
;
ALTER TABLE "public"."knowledge" OWNER TO "postgres";
COMMENT ON COLUMN "public"."knowledge"."content" IS 'æç« åå®¹';
COMMENT ON COLUMN "public"."knowledge"."repository_id" IS 'ç¥è¯åºID';
COMMENT ON COLUMN "public"."knowledge"."created_by" IS 'åå»ºäºº';
COMMENT ON COLUMN "public"."knowledge"."created_date" IS 'åå»ºäºº';
COMMENT ON COLUMN "public"."knowledge"."group_id" IS 'æå±å¢é';
COMMENT ON COLUMN "public"."knowledge"."deleted" IS 'æ¯å¦è¢«å é¤';

-- ----------------------------
-- Table structure for knowledge_log
-- ----------------------------
DROP TABLE IF EXISTS "public"."knowledge_log";
CREATE TABLE "public"."knowledge_log" (
  "id" int8 NOT NULL,
  "knowledge_id" int8 NOT NULL,
  "operation_by" int8 NOT NULL,
  "operation_date" varchar(255) COLLATE "pg_catalog"."default" NOT NULL,
  "group_id" int4 NOT NULL
)
;
ALTER TABLE "public"."knowledge_log" OWNER TO "postgres";

-- ----------------------------
-- Table structure for repository
-- ----------------------------
DROP TABLE IF EXISTS "public"."repository";
CREATE TABLE "public"."repository" (
  "id" int8 NOT NULL,
  "name" varchar(255) COLLATE "pg_catalog"."default" NOT NULL,
  "group_id" int8 NOT NULL,
  "created_by" int8 NOT NULL,
  "pid" int8 NOT NULL
)
;
ALTER TABLE "public"."repository" OWNER TO "postgres";
COMMENT ON COLUMN "public"."repository"."name" IS 'ç¥è¯åºåç§°';
COMMENT ON COLUMN "public"."repository"."group_id" IS 'æå±å¢éID';
COMMENT ON COLUMN "public"."repository"."created_by" IS 'åå»ºäºº';
COMMENT ON COLUMN "public"."repository"."pid" IS 'ç¶çº§ID';

-- ----------------------------
-- Table structure for user
-- ----------------------------
DROP TABLE IF EXISTS "public"."user";
CREATE TABLE "public"."user" (
  "id" int8 NOT NULL,
  "name" varchar(255) COLLATE "pg_catalog"."default" NOT NULL,
  "group_id" int8 [] NOT NULL,
  "account" varchar(255) COLLATE "pg_catalog"."default" NOT NULL,
  "passwd" varchar(255) COLLATE "pg_catalog"."default" NOT NULL,
  "registration_date" timestamp(6) NOT NULL
)
;
ALTER TABLE "public"."user" OWNER TO "postgres";
COMMENT ON COLUMN "public"."user"."id" IS 'ID';
COMMENT ON COLUMN "public"."user"."name" IS 'å§å';
COMMENT ON COLUMN "public"."user"."group_id" IS 'å¢éID';
COMMENT ON COLUMN "public"."user"."account" IS 'è´¦å·';
COMMENT ON COLUMN "public"."user"."passwd" IS 'å¯ç ';
COMMENT ON COLUMN "public"."user"."registration_date" IS 'æ³¨åæ¶é´';

-- ----------------------------
-- Primary Key structure for table group
-- ----------------------------
ALTER TABLE "public"."group" ADD CONSTRAINT "group_pkey" PRIMARY KEY ("id");

-- ----------------------------
-- Primary Key structure for table knowledge
-- ----------------------------
ALTER TABLE "public"."knowledge" ADD CONSTRAINT "knowledge_pkey" PRIMARY KEY ("id");

-- ----------------------------
-- Primary Key structure for table knowledge_log
-- ----------------------------
ALTER TABLE "public"."knowledge_log" ADD CONSTRAINT "knowledge_log_pkey" PRIMARY KEY ("id");

-- ----------------------------
-- Primary Key structure for table repository
-- ----------------------------
ALTER TABLE "public"."repository" ADD CONSTRAINT "repository_pkey" PRIMARY KEY ("id");

-- ----------------------------
-- Primary Key structure for table user
-- ----------------------------
ALTER TABLE "public"."user" ADD CONSTRAINT "user_pkey" PRIMARY KEY ("id");
 
```



 